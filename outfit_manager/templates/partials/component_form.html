<div class="form">
    <h2 class="form-title">
        {% if is_edit %}Edit Component{% else %}New Component{% endif %}
    </h2>
    
    <form hx-{% if is_edit %}put{% else %}post{% endif %}="/api/components{% if is_edit %}/{{ component.comid }}{% endif %}"
          hx-target="#main-content"
          hx-swap="innerHTML"
          hx-on="htmx:afterRequest: hideModal(); showToast('Component saved successfully!')">
        
        <div class="form-group">
            <label for="component-name" class="form-label">Component Name *</label>
            <input type="text" 
                   id="component-name" 
                   name="name" 
                   class="form-input" 
                   value="{% if component %}{{ component.name }}{% endif %}" 
                   required>
        </div>
        
        <div class="form-group">
            <label for="component-brand" class="form-label">Brand</label>
            <input type="text" 
                   id="component-brand" 
                   name="brand" 
                   class="form-input" 
                   value="{% if component %}{{ component.brand or '' }}{% endif %}" 
                   placeholder="e.g. Nike, Zara, H&M">
        </div>
        
        <div class="form-group">
            <label for="component-cost" class="form-label">Cost *</label>
            <input type="number" 
                   id="component-cost" 
                   name="cost" 
                   class="form-input" 
                   value="{% if component %}{{ component.cost }}{% else %}0{% endif %}" 
                   min="0" 
                   step="1" 
                   required>
        </div>
        
        <div class="form-group">
            <label for="component-piece" class="form-label">Piece Type</label>
            <select id="component-piece" name="piecid" class="form-select">
                <option value="">Select piece type...</option>
                {% for piece in pieces %}
                <option value="{{ piece.piecid }}" 
                        {% if component and component.piecid == piece.piecid %}selected{% endif %}>
                    {{ piece.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="component-vendor" class="form-label">Vendor</label>
            <select id="component-vendor" name="vendorid" class="form-select">
                <option value="">Select vendor...</option>
                {% for vendor in vendors %}
                <option value="{{ vendor.venid }}" 
                        {% if component and component.vendorid == vendor.venid %}selected{% endif %}>
                    {{ vendor.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label for="component-description" class="form-label">Description</label>
            <textarea id="component-description" 
                      name="description" 
                      class="form-textarea" 
                      placeholder="Describe this component...">{% if component %}{{ component.description or '' }}{% endif %}</textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label">Status</label>
            <div class="radio-group">
                <label class="radio-option {% if not component or component.active %}selected{% endif %}">
                    <input type="radio" name="active" value="true" 
                           {% if not component or component.active %}checked{% endif %}>
                    <span>Active</span>
                </label>
                <label class="radio-option {% if component and not component.active %}selected{% endif %}">
                    <input type="radio" name="active" value="false" 
                           {% if component and not component.active %}checked{% endif %}>
                    <span>Retired</span>
                </label>
            </div>
        </div>
        
        <div class="form-group">
            <label for="component-notes" class="form-label">Notes</label>
            <textarea id="component-notes" 
                      name="notes" 
                      class="form-textarea" 
                      placeholder="Additional notes...">{% if component %}{{ component.notes or '' }}{% endif %}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="hideModal()">
                Cancel
            </button>
            <button type="submit" class="btn btn-primary">
                {% if is_edit %}Update Component{% else %}Create Component{% endif %}
            </button>
        </div>
    </form>
</div>